No primeiro capitulo vimos como desenhar linhas para, por exemplo, criar um esquadro. Vimos que é preciso chamar a função beginPath e definir cada ponto do triângulo. Isso dá bastante trabalho e para quem não conhece tão bem a API até pode ser complicado!

Repare que é muito mais fácil criar um retângulo, basta chamar fillRect. Que tal criar uma função desenhaTriangulo que recebe as coordenadas dos 3 pontos? Seria muito mais fácil, não?

Aliás, podemos ir além, pois um esquadro é mais simples ainda! Para deixar mais claro, vamos analisar a imagem abaixo:

Nesse tipo de triângulo, basta saber os pontos A e C para descobrir o B! Repare que o X do A também é o X do B, e o Y do C também é o Y do B. Ficou confuso? Veja essa outra imagem:

Sabendo disso, podemos criar uma função mais simples ainda, que recebe as coordenadas do ponto A e C, além da cor, para desenhar um esquadro! Algo assim:

function desenhaEsquadro(xa, ya, xc, yc, cor) {
    //a implementacao fica com vc :)
}

Será que você consegue melhorar o código abaixo e criar a função desenhaEsquadro completa?

<!-- esquadro.html -->

<canvas width="600" height="400"></canvas>

<script>

    var tela = document.querySelector('canvas');
    var pincel = tela.getContext('2d');

    pincel.fillStyle="black";
    pincel.beginPath();
    pincel.moveTo(50, 50);
    pincel.lineTo(50, 400);
    pincel.lineTo(400, 400);
    pincel.fill();

    pincel.fillStyle="white";
    pincel.beginPath();
    pincel.moveTo(100, 175);
    pincel.lineTo(100, 350);
    pincel.lineTo(275, 350);
    pincel.fill();

</script>

Opinião do instrutor:

Essa melhoria realmente valeu a pena, pois simplificou muito o nosso código! E não só isso, também deixou o código mais expressivo, mais fácil de entender:

<script>

    var tela = document.querySelector('canvas');
    var pincel = tela.getContext('2d');

    function desenhaEsquadro(xa, ya, xc, yc, cor) {
        pincel.fillStyle = cor
        pincel.beginPath();
        pincel.moveTo(xa, ya);
        pincel.lineTo(xa, yc);
        pincel.lineTo(xc, yc);
        pincel.fill();

        pincel.fillStyle = 'white'
        pincel.beginPath();
        pincel.moveTo((6*xa + xc)/7, (9*ya + 5*yc)/14);
        pincel.lineTo((6*xa + xc)/7, (ya + 6*yc)/7);
        pincel.lineTo((5*xa + 9*xc)/14, (ya + 6*yc)/7);
        pincel.fill();

}

    desenhaEsquadro(50, 50, 400, 400, 'black');

</script>

